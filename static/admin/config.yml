backend:
  name: git-gateway
  repo: theredwillow/chili-when-its-chilly
  branch: master
  commit_messages:
    create: 'Create {{collection}} “{{slug}}”'
    update: 'Update {{collection}} “{{slug}}”'
    delete: 'Delete {{collection}} “{{slug}}”'
    uploadMedia: '[skip ci] Upload “{{path}}”'
    deleteMedia: '[skip ci] Delete “{{path}}”'

media_folder: static/img
public_folder: /img

collections:
  - name: "required-page"
    label: "Required Page"
    files:
      - file: "src/pages/index.md"
        label: "Home Page"
        name: "index"
        fields:
          - label: "Template Key"
            name: "templateKey"
            widget: "hidden"
            default: "page" # Uses same template as pages collection, no way to create non-optional list item.
          - label: "Title"
            name: "title"
            widget: "hidden"
            default: "Home Page"
          - label: "Description"
            name: "description"
            widget: "text"
            hint: "Please provide a description of what is on this page so that search engines can display what to expect on your page more accurately."
          - name: "slideshowImages"
            label: "Slideshow Image" 
            widget: "list"
            required: false
            summary: '{{fields.description}}'
            hint: "Optional. Choose images to add a slideshow at the top of the page."
            fields:
              - label: "Image"
                name: "src"
                widget: "image"
                media_folder: "/{{media_folder}}/slideshow"
                public_folder: "/{{public_folder}}/slideshow"
              - label: "Description"
                name: "description"
                widget: "string"
                hint: "Please provide a description of what's in this image so that blind people can enjoy it too."
          - label: "Sections"
            name: "sections"
            widget: "list"
            field: {label: "Section", name: "section", widget: "markdown"}
          - name: "sponsorImages"
            label: "Sponsor Image" 
            widget: "list"
            required: false
            summary: '{{fields.description}}'
            fields:
              - label: "Image"
                name: "src"
                widget: "image"
                media_folder: "/{{media_folder}}/sponsors"
                public_folder: "/{{public_folder}}/sponsors"
              - label: "Description"
                name: "description"
                widget: "string"
                hint: "Please provide a description of what's in this image so that blind people can enjoy it too."
              - label: "Web Site"
                name: "url"
                widget: "string"
                hint: "Please use https, not http whenever possible."
          - label: "Contact Us copy"
            name: "contactCopy"
            widget: "markdown"
          - name: "externalLinks"
            label: "External Links"
            widget: "list"
            summary: '{{fields.title}}'
            fields:
              - label: "Title"
                name: "title"
                widget: "string"
              - label: "URL"
                name: "url"
                widget: "string"
                hint: "Please use https, not http whenever possible."
              - label: "Description"
                name: "description"
                widget: "text"
                hint: "Please provide a description of what is on this page so that users will know what to expect when they click the link."
      - file: "src/pages/cook-offs/index.md"
        label: "Cook Off's"
        name: "cook-offs"
        fields:
          - label: "Template Key"
            name: "templateKey"
            widget: "hidden"
            default: "cook-offs"
          - label: "Title"
            name: "title"
            widget: "hidden"
            default: "Cook Off's"
          - label: "Description"
            name: "description"
            widget: "text"
            hint: "Please provide a description of what is on this page so that search engines can display what to expect on your page more accurately."
          - name: "competitions"
            label: "Competitions"
            widget: "list"
            required: false
            summary: '{{fields.contestName}}'
            fields:
              - label: "Contest Name"
                name: "contestName"
                widget: "string"
                hint: "Avoid using the definite article (i.e. 'The'). This is taken care of by the code when necessary."
              - label: "Image"
                name: "image"
                widget: "image"
                hint: "The logo/image for this year's competition."
                media_folder: "/{{media_folder}}/competitions"
                public_folder: "/{{public_folder}}/competitions"
              - name: "Day"
                label: "day"
                widget: "select"
                hint: "Day the event will be held on."
                multiple: false
                options: ["Friday", "Saturday", "Sunday"]
              - name: "years"
                label: "Years"
                widget: "list"
                summary: "{{fields.year}}"
                required: false
                hint: "Provide sponsor information for upcoming event. Or for previous years, provide images and names for the winners' gallery."
                fields:
                  - label: "Year"
                    name: "year"
                    widget: "string"
                    pattern: ['^\d{4}$', "Must be a four-digit year (i.e. 2000)."]
                  - name: "Sponsor"
                    label: "sponsor"
                    widget: "object"
                    required: false
                    summary: "Sponsored by {{fields.sponsorName}}"
                    fields:
                      - {label: "Name", name: "sponsorName", widget: "string"}
                      - {label: "URL", name: "sponsorUrl", widget: "string", hint: "Provide the URL to the sponsor's website."}
                  - name: "Winners"
                    label: "winners"
                    widget: "object"
                    required: false
                    media_folder: "/{{media_folder}}/winners/{{fields.year}}"
                    public_folder: "/{{public_folder}}/winners/{{fields.year}}"
                    fields:
                      - name: "First Place"
                        label: "firstPlace"
                        widget: "object"
                        summary: "1st: {{fields.winnersName}}"
                        required: false
                        fields:
                          - label: "Winner's Name"
                            name: "winnersName"
                            widget: "string"
                            required: false
                          - label: "Winner's Picture"
                            name: "winnersPicture"
                            widget: "image"
                            hint: "Picture of 1st place winner, preferably holding trophy or entry."
                      - name: "Second Place"
                        label: "secondPlace"
                        widget: "object"
                        summary: "2nd: {{fields.winnersName}}"
                        required: false
                        fields:
                          - label: "Winner's Name"
                            name: "winnersName"
                            widget: "string"
                            required: false
                          - label: "Winner's Picture"
                            name: "winnersPicture"
                            widget: "image"
                            hint: "Picture of 2nd place winner, preferably holding trophy or entry."
                      - name: "Third Place"
                        label: "thirdPlace"
                        widget: "object"
                        summary: "3rd: {{fields.winnersName}}"
                        required: false
                        fields:
                          - label: "Winner's Name"
                            name: "winnersName"
                            widget: "string"
                            required: false
                          - label: "Winner's Picture"
                            name: "winnersPicture"
                            widget: "image"
                            hint: "Picture of 3rd place winner, preferably holding trophy or entry."
          - {label: "Rules", name: "rules", widget: "markdown"}
  - name: "pages"
    label: "Pages"
    folder: "src/pages/other-pages"
    create: true
    fields:
      - label: "Template Key"
        name: "templateKey"
        widget: "hidden"
        default: "page"
      - label: "Title"
        name: "title"
        widget: "string"
      - label: "Description"
        name: "description"
        widget: "text"
        hint: "Please provide a description of what is on this page so that search engines can display what to expect on your page more accurately."
      - label: "Sections"
        name: "sections"
        widget: "list"
        field: {label: "Section", name: "section", widget: "markdown"}
